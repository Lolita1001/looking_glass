{% extends 'lg_app/base.html' %}

{% block content %}

<div class="main">

    <form action="{% url 'lg_app:upload_photo' %}" method="post" enctype="multipart/form-data">

        {% csrf_token %}
        <div class="file-field input-field upload_form">
            <div class="upload_button btn col s6">
                <span>Select a photo</span>
                <input type="file" name="upload_photo" accept="image/*">
                <input type="hidden" value={{ image.user_id }}>
            </div>
            <div class="file-path-wrapper col s6">
                <input class="file-path validate" type="text">
            </div>
        </div>

        <button class="btn upload_btn">Upload</button>
    </form>

    <div class="photos">
        <div><img class="before_after before" src="uploads/{{ latest_image.user_img }}" title="{{ latest_image.user_img }}"></div>
        <div><img class="before_after after" id="image_after" src="uploads/{{ latest_image.user_img }}"></div>
    </div>
</div>


<div class="preset_packs">
    <div class="container">
        <div class="input-field col s6 m6">
            <select id="preset_packs" class="icons">
                <option disabled selected>Select a Preset Pack:</option>
                {% for preset_pack in preset_packs %}
                <option value="{{ preset_pack.id }}" data-icon="{{ preset_pack.pack_thumbnail.url }}" class="left">{{ preset_pack.pack_name }}</option>

                {% endfor %}
            </select>
        </div>
    </div>
</div>



<div class="preset_list" id="preset_list">
    {% for image in processed_images %}
    <ul>
        <div class="preset_thumbnail">
            <li><img class="image_thumbnail" src="uploads/{{image.image}}"><br /><span class="preset_name">{{ image.preset }}</span></li>
        </div>
    </ul>

    {% endfor %}


</div>



{% endblock %}